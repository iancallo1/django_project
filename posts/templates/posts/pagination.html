{% if is_paginated %}
    <div class="pagination">
        {% if page_obj.has_previous %}
            <a href="?page=1{% if per_page %}&per_page={{ per_page }}{% endif %}">&laquo; First</a>
            <a href="?page={{ page_obj.previous_page_number }}{% if per_page %}&per_page={{ per_page }}{% endif %}">Previous</a>
        {% else %}
            <span class="disabled">&laquo; First</span>
            <span class="disabled">Previous</span>
        {% endif %}
        
        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
        </span>
        
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}{% if per_page %}&per_page={{ per_page }}{% endif %}">Next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}{% if per_page %}&per_page={{ per_page }}{% endif %}">Last &raquo;</a>
        {% else %}
            <span class="disabled">Next</span>
            <span class="disabled">Last &raquo;</span>
        {% endif %}
        
        <div class="pagination-dropdown">
            <label for="per_page">Show:</label>
            <select id="per_page" onchange="updatePerPage(this.value)">
                <option value="5" {% if per_page == 5 %}selected{% endif %}>5</option>
                <option value="10" {% if per_page == 10 %}selected{% endif %}>10</option>
                <option value="20" {% if per_page == 20 %}selected{% endif %}>20</option>
                <option value="50" {% if per_page == 50 %}selected{% endif %}>50</option>
            </select>
        </div>
    </div>
{% endif %} 